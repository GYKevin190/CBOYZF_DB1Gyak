CREATE TABLE Beszállító
(
  Beszállító_ID INT NOT NULL,
  Ár INT NOT NULL,
  CsomagolásTípusa INT NOT NULL,
  VárhatóÉrkezés DATE,
  PRIMARY KEY (Beszállító_ID)
);

CREATE TABLE Gyárihibás
(
  Gyárihiba_ID INT NOT NULL,
  Ár INT NOT NULL,
  Márka NVARCHAR (100) NOT NULL,
  Név NVARCHAR (100) NOT NULL,
  PRIMARY KEY (Gyárihiba_ID)
);

CREATE TABLE Ügyfél
(
  Irányítószám INT NOT NULL,
  Város NVARCHAR (100)  NOT NULL,
  Utca NVARCHAR (100)  NOT NULL,
  Házszám INT NOT NULL,
  Személyiszám INT NOT NULL,
  Név NVARCHAR (100)  NOT NULL,
  VásárlásIdőpontja Date NOT NULL,
  VásároltTermék NVARCHAR (100)  NOT NULL,
  PRIMARY KEY (Név)
);

CREATE TABLE Ügyfél_Telefonszám
(
  Telefonszám NVARCHAR (100) NOT NULL,
  Név NVARCHAR (100) NOT NULL,
  PRIMARY KEY (Telefonszám, Név),
  FOREIGN KEY (Név) REFERENCES Ügyfél(Név)
);

CREATE TABLE Raktárak
(
  Raktár_ID INT NOT NULL,
  Ár INT NOT NULL,
  RaktárbaÉrkezés date NOT NULL,
  Város NVARCHAR (100) NOT NULL,
  Utca NVARCHAR (100) NOT NULL,
  ISZ INT NOT NULL,
  Hászám INT NOT NULL,
  Gyárihiba_ID INT NOT NULL,
  PRIMARY KEY (Raktár_ID),
  FOREIGN KEY (Gyárihiba_ID) REFERENCES Gyárihibás(Gyárihiba_ID)
);

CREATE TABLE Rendelés
(
  Rendelésszám INT NOT NULL,
  VárhatóÉrkezés date NOT NULL,
  Ár INT NOT NULL,
  Helyzet NVARCHAR (100) NOT NULL,
  Név NVARCHAR (100) NOT NULL,
  Raktár_ID INT NOT NULL,
  PRIMARY KEY (Rendelésszám),
  FOREIGN KEY (Név) REFERENCES Ügyfél(Név),
  FOREIGN KEY (Raktár_ID) REFERENCES Raktárak(Raktár_ID)
);

CREATE TABLE Beszállítás
(
  Darabszám INT NOT NULL,
  Raktár_ID INT NOT NULL,
  Beszállító_ID INT NOT NULL,
  PRIMARY KEY (Raktár_ID, Beszállító_ID),
  FOREIGN KEY (Raktár_ID) REFERENCES Raktárak(Raktár_ID),
  FOREIGN KEY (Beszállító_ID) REFERENCES Beszállító(Beszállító_ID)
);